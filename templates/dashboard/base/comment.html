<div class="col-md-9">
  <div class="card shadow-sm rounded">
    <div class="card-header bg-dark text-light d-flex justify-content-between align-items-center">
      <h4 class="mb-0">Quản lý Comments</h4>
    </div>

    <div class="card-body p-0">
      <table class="table table-hover table-striped table-bordered mb-0">
        <thead class="table-dark">
          <tr>
            <th style="width:5%">#</th>
            <th style="width:15%">User</th>
            <th style="width:20%">Bài viết</th>
            <th style="width:35%">Nội dung</th>
            <th style="width:15%">Ngày tạo</th>
            <th style="width:10%">Action</th>
          </tr>
        </thead>
        <tbody>
          {% for c in comments %}
          <tr>
            <td>{{ forloop.counter }}</td>
            <td>{{ c.user.username }}</td>
            <td>{{ c.blog.title }}</td>
            <td>{{ c.content|truncatewords:15 }}</td>
            <td>{{ c.created_at|date:"d/m/Y H:i" }}</td>
            <td>
              <form method="post" class="d-inline">
                {% csrf_token %}
                <input type="hidden" name="action" value="delete_comment">
                <input type="hidden" name="comment_id" value="{{ c.id }}">
                <button type="submit" class="btn btn-sm btn-outline-danger"
                        onclick="return confirm('Xóa comment này?');">
                  <i class="fa fa-trash"></i>
                </button>
              </form>
            </td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="6" class="text-center text-muted">Không có comment nào.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>

      <div class="card-footer">
        <nav aria-label="Page navigation">
          <ul class="pagination justify-content-center mb-0">
            {% if comments.has_previous %}
              <li class="page-item">
                <a class="page-link" href="?page={{ comments.previous_page_number }}">Previous</a>
              </li>
            {% else %}
              <li class="page-item disabled"><span class="page-link">Previous</span></li>
            {% endif %}

            {% for num in comments.paginator.page_range %}
              {% if comments.number == num %}
                <li class="page-item active"><span class="page-link">{{ num }}</span></li>
              {% else %}
                <li class="page-item"><a class="page-link" href="?page={{ num }}">{{ num }}</a></li>
              {% endif %}
            {% endfor %}

            {% if comments.has_next %}
              <li class="page-item">
                <a class="page-link" href="?page={{ comments.next_page_number }}">Next</a>
              </li>
            {% else %}
              <li class="page-item disabled"><span class="page-link">Next</span></li>
            {% endif %}
          </ul>
        </nav>
      </div>
    </div>
  </div>
</div>
